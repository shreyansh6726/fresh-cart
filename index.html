<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fresh-cart: intro</title>

    <style>
    body {
        margin: 0;
        padding: 0;
        height: 100vh;
        transition: background 2s linear;
    }
     * {
            box-sizing: border-box;
        }

        body {
            padding: 0;
            margin: 0;
            font-family: "Mori";
            font-weight: 300;
            height: 100vh;
            overflow: hidden;
        }

        .container {
            display: flex;
            height: 100%;
            width: 100%;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .container.grid, .container.columns {
            align-content: stretch;
            align-items: stretch;
            flex-wrap: wrap;
        }

        .letter {
            text-align: center;
            color: black;
            font-size: 10vmax;
            font-weight: 400;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2px 6px;
        }

        .container.grid .letter {
            flex-basis: 50%;
        }

        .container.columns .letter {
            flex-basis: 25%;
        }

        .for, .gsap {
            font-size: 5vmax;
            color: var(--color-surface-white);
        }

        .for {
            padding: 2px 1.6vmax;
            font-weight: 300;
            display: none;
        }

        .gsap {
            padding: 2px 0;
            font-weight: 600;
            display: none;
        }

        .container.final .for, .container.final .gsap {
            display: block;
        }

        .F {
            background: rgb(245, 179, 119);
        }

        .l {
            background: rgb(8, 235, 178);
        }

        .i {
            background: rgb(226, 253, 153);
        }

        .p {
            background: rgb(255, 174, 204);
        }

        .container.plain .letter {
            background: transparent;
            color: var(--color-surface-white);
            padding: 0;
        }

        .logo {
            position: fixed;
            width: 100px;
            bottom: 20px;
            right: 30px;
        }
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Flip.min.js"></script>
</head>

<body>
    <a href="home.html">
        <div class="container final">
            <div class="letter F">FR</div>
            <div class="letter l">E</div>
            <div class="letter i">S</div>
            <div class="letter p">H</div>
            <div class="for">for</div>
            <div class="gsap">Cart</div>
        </div>
    </a>
    <a href="https://gsap.com/">
        <img src="https://assets.codepen.io/16327/gsap-logo-light.svg" class="logo" />
    </a>

    <script>
        function changeColor() {
            const r = Math.floor(Math.random() * 256)
            const g = Math.floor(Math.random() * 256)
            const b = Math.floor(Math.random() * 256)
            document.body.style.background = `rgb(${r}, ${g}, ${b})`
        }
        setInterval(changeColor, 2000)
        changeColor()

        gsap.registerPlugin(Flip);

        let layouts = ["final", "plain", "columns", "grid"],
            container = document.querySelector(".container"),
            curLayout = 0;

        function nextState() {
            const state = Flip.getState(".letter, .for, .gsap", {props: "color,backgroundColor", simple: true});
            container.classList.remove(layouts[curLayout]);
            curLayout = (curLayout + 1) % layouts.length;
            container.classList.add(layouts[curLayout]);

            Flip.from(state, {
                absolute: true,
                stagger: 0.07,
                duration: 0.7,
                ease: "power2.inOut",
                spin: curLayout === 0,
                simple: true,
                onEnter: (elements, animation) =>
                    gsap.fromTo(elements, {opacity: 0}, {opacity: 1, delay: animation.duration() - 0.1}),
                onLeave: elements => gsap.to(elements, {opacity: 0})
            });

            gsap.delayedCall(curLayout === 0 ? 3.5 : 1.5, nextState);
        }

        gsap.delayedCall(1, nextState);
    </script>
</body>
</html>
<body>

